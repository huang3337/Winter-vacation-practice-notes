# 中断系统

1. 中断系统是为使CPU具有对外界紧急事件的实时处理能力而设置的。当中央处理机CPU正在处理某件事的时候外界发生了紧急事件请求，要求CPU暂停当前的工作，转而去处理这个紧急事件，处理完以后，再回到原来被中断的地方，继续原来的工作，这样的过程称为中断。实现这种功能的部件称为中断系统，请示CPU中断的请求源称为中断源。微型机的中断系统一般允许多个中断源，当几个中断源同时向CPU请求中断，要求为它服务的时候，这就存在CPU优先响应哪一个中断源请求的问题。通常根据中断源的轻重缓急排队，优先处理最紧急事件的中断请求源，即规定每一个中断源有一个优先级别。CPU总是先响应优先级别最高的中断请求。
   当CPU正在处理一个中断源请求的时候(执行相应的中断服务程序)，发生了另外一个优先级比它还高的中断源请求。如果CPU能够暂停对原来中断源的服务程序，转而去处理优先级更高的中断请求源，处理完以后，再回到原低级中断服务程序，这样的过程称为中断嵌套。这样的中断系统称为多级中断系统，没有中断嵌套功能的中断系统称为单级中断系统。

2. STC89C52中断资源：

   中断源个数：8个（外部中断0、定时器0中断、外部中断1、定时器1中断、串口中断、定时器2中断、外部中断2、外部中断3）中断优先级个数：4个

   中断号：

   ![](./%E7%AC%AC7%E6%AC%A1%E7%AC%94%E8%AE%B0.assets/%E5%9B%BE%E7%89%871.png)

   注意：中断的资源和单片机的型号是关联在一起的，不同的型号可能会有不同的中断资源，例如中断源个数不同、中断优先级个数不同等等

3. 基于 11.0592MHz 晶振的初值计算

   1)振荡周期
   振荡周期指为单片机提供定时信号的振荡源的周期或外部输入时钟的周期，也叫时钟周期。
   2)机器周期
   如果把一条指令的执行过程分为几个基本操作，则将完成一个基本操作所需的时间称作机器周期。一个机器周期=12个振荡周期。(12分频)

   

   已知：晶振频率为11.0592MHz，振荡周期为1/11.0592MHz=0.090422us，机器周期为12*0.090422us=1.08506us.

   每一个机器周期计数器都会+1，故想要1ms产生一次中断得计算1ms有多少个机器周期；个数为1ms/1.08506us=921.6=922，故需要设置的初值为65536-922=64614。

   (64614)D=0xFC66

